<s4-message [(msgs)]="msgs" id="validmsg"> </s4-message>
<s4-pane [cardType]="true" [title]="translateService.translate('oidscexm.confirmscheduleexternalmovements')"
	[screenId]="translateService.translate('oidscexm.oidscexm')">
	<s4-panel [cardType]="true" [title]="translateService.translate('oidscexm.schedules')">
		<div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="10px">
			<div fxFlex="1 0 140px">
				<s4-datepicker #date id="dateFROM_DATE"
					[placeholder]="translateService.translate('oidscexm.schedulefromdate')"
					[(ngModel)]=movementModel.fromDate [readonly]="namesReadOnly" (ngModelChange)="isInsertable()" [required]="true">
				</s4-datepicker>
			</div>
			<div fxFlex="0 0 125px">
				<s4-datepicker #dateOne id="dateTO_DATE" [placeholder]="translateService.translate('common.todate')"
					[(ngModel)]=movementModel.toDate [readonly]="namesReadOnly" [required]="true"
					(ngModelChange)="isInsertable()"></s4-datepicker>
			</div>
			<div fxFlex="0 0 125px">
				<s4-datepicker id="dateF_M_DATE" [placeholder]="translateService.translate('oidscexm.movementdate')"
					[(ngModel)]=movementModel.fMDate [readonly]=true [readonly]="namesReadOnly"
					(ngModelChange)="isInsertable()">
				</s4-datepicker>
			</div>
			<div fxFlex="1 0 100px">
				<s4-time id="textf_m_time" [placeholder]="translateService.translate('oidscexm.movementtime')"
					[(ngModel)]=movementModel.fMTime [readonly]="namesReadOnly" (ngModelChange)="isInsertable()">
				</s4-time>
			</div>
			<div fxFlex="2 0 150px">
				<s4-lov id="selmove_type" domain="MOVE_TYPE" [placeholder]="translateService.translate('oidscexm.movementtype')"
				(optionChange)="movementTypeClick($event)"
				[(ngModel)]="movementModel.eventType" optionWidth="500" [readonly]="namesReadOnly"
				(ngModelChange)="isInsertable()"></s4-lov>
			</div>
			<!-- link="oidscexm/rgMoveTypeRecordGroup"  -->
			<div fxFlex="2 0 150px">
				<s4-lov id="selagy_id" [placeholder]="translateService.translate('oidscexm.fromtofacility')"
					link="oidscexm/rgAgyIdRecordGroup" (optionChange)="fromToFacilityClick($event)"
					[(ngModel)]="movementModel.toAgyLocId" optionWidth="500" [readonly]="namesReadOnly"
					(ngModelChange)="isInsertable()" source="OUMAGLOC">
				</s4-lov>
			</div>
		</div>
		<div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="10px">
			<div fxFlex="0 0 125px">
				<s4-checkbox id="checkoverdue_flag0" disabled=true>
					{{translateService.translate('oidscexm.scheduledtrip')}}
				</s4-checkbox>
			</div>
			<!-- <div fxFlex="0 0 125px">
				<s4-tooltip position="right" class="dialog-card-tooltip"
					message="This functionality is not yet implemented  as it is currently  out of scope">
					<s4-button id="but_select" disabled=true name="BUT_SEARCH">
						{{translateService.translate('common.select')}}
					</s4-button>
				</s4-tooltip>
			</div> -->
			<div fxFlex="0 0 125px">
				<s4-datepicker id="dateF_M_DATE" [placeholder]="translateService.translate('oidscexm.departuredate')"
					[readonly]=true>
				</s4-datepicker>
			</div>
			<div fxFlex="2 0 150px">
				<s4-textbox id="selmove_type" [placeholder]="translateService.translate('common.description')"
					[readonly]=true>
				</s4-textbox>
			</div>
			<div fxFlex="2 0 150px">
				<s4-textbox id="selmove_type" [placeholder]="translateService.translate('common.status')"
					[(ngModel)]="movementModel.eventType" [readonly]=true>
				</s4-textbox>
			</div>
		</div>
		<div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="7px" class="btn-mt9">
			<s4-button type="primary" id="but_select" name="BUT_SEARCH" (click)="onButSearchclick(date,dateOne)"
				[disabled]="retrieveDisabeld"> {{translateService.translate('common.search')}}
			</s4-button>
			<s4-button id="but_clear" name="BUT_CLEAR" (click)="onButClearClick()" [disabled]="clearDisabeld">
				{{translateService.translate('common.clear')}}
			</s4-button>
		</div>
	</s4-panel>
	<s4-panel [cardType]="true" [title]="translateService.translate('oidscexm.confirmmovements')">
		<div fxLayout="row wrap" fxLayoutAlign="start end">
			<div fxFlex>
				<s4-grid #grid id="offschtab" [rowData]="offschData" [columnDefs]="offSchColumnDef"
					(rowClicked)="onRowClickoffsch($event)" enableUpdate=true
					(onCommit)="oidscexmSaveoffschForm($event)" [validateRow]="whenCheckboxChanged"
					[selected]="offSchIndex">
				</s4-grid>
			</div>
		</div>
	</s4-panel>
</s4-pane>