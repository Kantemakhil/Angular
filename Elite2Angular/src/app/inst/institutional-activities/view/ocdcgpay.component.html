<s4-message [(msgs)]="msgs" id="validmsg"> </s4-message>
<s4-pane [cardType]="true" [title]="translateService.translate('ocdcgpay.title')" screenId="OCDCGPAY">
    <s4-panel [cardType]="true">
        <div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="10px">
            <s4-datepicker id="start_date" [(ngModel)]="offCoursAttmodel.startTime"
                [placeholder]="translateService.translate('ocdcgpay.fromdate')" [readonly]="fieldsReadonly">
            </s4-datepicker>
            <s4-datepicker id="end_date" [(ngModel)]="offCoursAttmodel.endTime" [required]="true"
                [placeholder]="translateService.translate('ocdcgpay.todate')" [readonly]="fieldsReadonly">
            </s4-datepicker>
            <s4-textbox id="iddisplay" #idval [placeholder]="translateService.translate('ocdcgpay.pid')"
                [(ngModel)]="offCoursAttmodel.offenderIdDisplay" [readonly]="fieldsReadonly"
                (blur)="textBoxBlurEvent(idval)">
            </s4-textbox>
            <s4-launchbutton id="id_display_lov" name="BUT_OIINAMESDIALOG" [disabled]="fieldsReadonly"
                (afterDialogClosed)="seOffenderIdDisplay($event)" link="/oiinamesdialog" modal="true">...
            </s4-launchbutton>
            <s4-textbox id="iddisplay" [placeholder]="translateService.translate('ocdcgpay.batch')"
                [(ngModel)]="payBatchId" readonly=true>
            </s4-textbox>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="7px">
            <s4-button type="primary" id="but_retrieve" name="BUT_Retrieve" (onClick)="onRetrive()"
                [disabled]="retriveDisable">{{translateService.translate('common.retrieve')}}</s4-button>
            <s4-button id="but_clear" name="but_clear" (onClick)="onClear()" [disabled]="clearDisable">
                {{translateService.translate('common.clear')}}</s4-button>
        </div>
    </s4-panel>

    <s4-panel [cardType]="true" [title]="translateService.translate('ocdcgpay.unconfirmedpaysummary')">
        <div fxLayout="row wrap" fxLayoutAlign="start end" fxLayoutGap="10px">
            <div fxFlex>
                <s4-grid id="attdata" #grid [rowData]="vOffCoursedata" [columnDefs]="vCrsAttColumnDef"
                    (rowClicked)="onRowClickEvent($event)" enableUpdate=true [validateRow]="validateRowData"
                    [selected]="selectedRow" externalSave=true></s4-grid>
            </div>
        </div>
        <div fxLayout="row wrap" fxLayoutAlign="space-between stretch" fxLayoutGap="10px">
            <div fxLayoutAlign="start start" fxLayoutGap="10px">
                <s4-button type="primary" id="but_confirmpay" name="confirmpay" [disabled]="btnDisable"
                    (onClick)="confirmGeneratePay()">
                    {{translateService.translate('ocdcgpay.confirmorgenerate')}}
                </s4-button>
            </div>
            <div fxLayoutAlign="end end">
                <s4-textbox id="totalamounts" [placeholder]="translateService.translate('ocdcgpay.totalamounts')"
                    [(ngModel)]="totalAmount" readonly=true [rightAlign]="true">
                </s4-textbox>
            </div>
        </div>
    </s4-panel>
</s4-pane>